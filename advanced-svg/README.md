# Advanced SVG

Scalable vector graphics are amazing for creating graphics on the web because they can be embedded into HTML and treated like actual HTML elements.

### [▶ Video playlist for advanced SVG](https://www.youtube.com/watch?v=q_3Q9HHcXuA&list=PLWjCJDeWfDdeYtU0NMvYvfqqFA1Jsh3NM)

---

- [SVGs are code](#svgs-are-code)
	- [Writing SVG](#writing-svg)
	- [Embedding SVG into HTML](#embedding-svg-into-HTML)
	- [Cleaning generated SVG](#cleaning-generated-svg)
- [SVG effects](#svg-effects)
	- [Adding a hover state](#adding-a-hover-state)
	- [Adding transitions](#adding-transitions)
	- [Adding animations](#adding-animations)
	- [Masks](#masks)
	- [Filters](#filters)
- [SVG icons](#svg-icons)
	- [SVG symbols & reuse](#svg-symbols--reuse)
- [Videos](#videos)
- [Links](#links)

---

## SVGs are code

SVGs are purely vector graphics and they are written using the XML markup language.

You don’t need a graphical editor to create an SVG, all you need is a text editor.

### Writing SVG

To create SVG we can just make a new file in our text editor and give it the extension “.svg”.

Inside the code file, write this:

```xml
<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
	<!-- Write all the SVG code in here -->
</svg>
```

It’s also good for browser compatibility to add these attributes: `width`, `height`, `viewBox`.

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<!-- Write all the SVG code in here -->
</svg>
```

Then, inside our SVG we can create graphics.

Here’s a **rectangle**:

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<rect x="10" y="10" width="75" height="50" />
</svg>
```

Add rounded corners with `rx` & `ry`:

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<rect x="10" y="10" width="75" height="50" rx="8" ry="8" />
</svg>
```

Here’s a **circle**:

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<circle cx="175" cy="75" r="75" />
</svg>
```

- `cx` — centre x coordinate
- `cy` — centre y coordinate
- `r` — radius

We can use CSS in our SVG, but the [properties are just a little different](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute).

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<style>
		rect {
			fill: #f33;
		}
	</style>
	<rect x="10" y="10" width="75" height="50" />
</svg>
```

Use `fill` to change the shape’s colour.

We can even use classes and IDs on elements.

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<style>
		.my-rect {
			fill: #3f3;
			stroke: #000;
		}
	</style>
	<rect class="my-rect" x="10" y="10" width="75" height="50" />
</svg>
```

We can write text inside an SVG using the `<text>` element:

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<text x="10" y="100">Dinosaurs!</text>
</svg>
```

With text in the SVG we can do lots of effects to it that we can’t normally do with CSS, like [linear gradients](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient) inside the letters. *And if it’s embedded directly in the HTML, using the technique below, it’s fully accessible.*

### Embedding SVG into HTML

SVG can be embedded directly into HTML, which gives us a bunch of extra control.

```html
⋮
<body>
	<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
		<rect class="my-rect" x="10" y="10" width="75" height="50" />
	</svg>
</body>
⋮
```

As soon as the SVG is inside your HTML you can move the CSS into your separate CSS file, which gives us lots of control.

*In `main.css`:*

```css
.my-rect {
	fill: #f33;
}
```

SVG `<text>` that’s embedded directly into HTML can take advantage of web fonts.

```html
<!DOCTYPE html>
<html lang="en-ca">
	<head>
		⋮
		<link href="http://fonts.googleapis.com/css?family=Denk+One" rel="stylesheet">
		⋮
	</head>
	<body>
		<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
			<text x="10" y="100">Dinosaurs!</text>
		</svg>
	</body>
</html>
```

With the web font linked we can set the `font-family` on the text element:

```css
text {
	font-family: "Denk One";
}
```

### Cleaning generated SVG

If you’re using SVG generated by a tool like Adobe Illustrator, Sketch, or Inkscape there’s lots of extra cruft that we don’t need in the files.

We can use some optimization tools to clean up the SVG. [SVGOMG](https://jakearchibald.github.io/svgomg/) is a good GUI tool. *Make sure to keep “Prettify code” turned on so it’s nice and clean looking.*

The optimization is the same process we use with the [SVGO-GUI](https://github.com/svg/svgo-gui) tool, but keeps the code nicely formatted for use when embedding in our HTML.

**Links**

- **[Pocket Guide to Writing SVG](http://svgpocketguide.com/)**
- **[SVGOMG](https://jakearchibald.github.io/svgomg/)**
- [SVG and the preserveAspectRatio Property](http://unmatchedstyle.com/news/svg-and-the-preserveaspectratio-property.php)
- [SVG NOW for Adobe Illustrator](https://github.com/davidderaedt/SVG-NOW)
- [SVG Editor](http://petercollingridge.appspot.com/svg-editor)

---

## SVG effects

SVG can have lots of effects inside it: hovers, transitions, animations, filters, etc.

*As soon as we put our SVG into our HTML document we can apply all the effects in our CSS file.*

### Adding a hover state

Adding a hover state to an SVG graphic is no different than other HTML elements.

```xml
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<rect class="my-rect" x="10" y="10" width="75" height="50" />
</svg>
```

Then in CSS, we can do this:

```css
.my-rect {
	fill: #f33;
}

.my-rect:hover {
	fill: #000;
}
```

### Adding transitions

Adding CSS transitions to SVGs are no different than any other HTML element.

```css
.my-rect {
	fill: #f33;
	transition: all 250ms linear;
}

.my-rect:hover {
	fill: #000;
}
```

### Adding animations

There are SVG specific animations, named SMIL, but they are becoming deprecated. So CSS animations are a better way to go.

Just treat your SVG elements just like any other HTML elements.

```css
.my-rect {
	animation: rotate-box 250ms linear infinite;
}

@keyframes rotate-box {
	0% { transform: rotate(0); }
	100% { transform: rotate(360deg); }
}
```

*Be careful with `tranform` you may need to set `transform-origin` in pixels because it’s now inside the SVG document space.*

### Masks

SVGs allow us to mask things. It works really well for [creating transparent zone in JPGs](../image-formats#jpgs-and-transparency).

### Filters

If you want to add filters like drop shadows and blurring to SVGs from Adobe Illustrator, make sure to use the SVG filters specifically.

```
Effect > SVG Filters
```

**Links**

- [CSS-Tricks: Animating SVG with CSS](https://css-tricks.com/animating-svg-css/)
- [SVG Masks](http://tutorials.jenkov.com/svg/mask.html)

---

## SVG icons

SVGs are perfect for icons sets in our websites. We can even get their colour to inherit from other CSS colours.

```html
<a class="icon-link" href="#">
	<svg class="icon">…</svg>
</a>
```

If we remove all the `fill` attributes and CSS from the SVG we can control it with CSS.

```css
svg {
	/* `currentColor` allows the color to inherit from the `color` attribute */
	fill: currentColor;
}

.icon-link {
	color: #33f;
}

.icon-link:hover {
	color: #000;
}
```

Doing the above CSS we can get our SVG colour to match the colour of the HTML element it’s inside.

### SVG symbols & reuse

We can reuse SVG graphics multiple times on our website using the `<symbol>` element. These are just like symbols in Abobe Illustrator.

At the top of our HTML file—the very top—we can define the SVG icons.

```html
⋮
<body>
	<!-- Make sure to use `display: none` to hide the icons until use -->
	<svg style="display:none;">
		<symbol id="symbol-icon" viewBox="0 0 256 256">
			<path d="M188.5…" />
		</symbol>
	</svg>
⋮
```

After the definition above, further down the HTML document we can use the SVG graphic.

```html
<a class="icon-link" href="#">
	<!-- Use the ID above to link this symbol -->
	<svg class="icon"><use xlink:href="#symbol-icon"/></svg>
</a>
```

From a performance perspective this has caching issues because the SVG graphic must be included at the top of every HTML file.

**Links**

- [24 Ways: An Overview of SVG Sprite Creation Techniques](http://24ways.org/2014/an-overview-of-svg-sprite-creation-techniques/)

---

## Videos

1. [Advanced SVG: writing SVG code](https://www.youtube.com/watch?v=q_3Q9HHcXuA&list=PLWjCJDeWfDdeYtU0NMvYvfqqFA1Jsh3NM&index=1)
2. [Advanced SVG: cleaning up the code](https://www.youtube.com/watch?v=aVcs-zQ1q4U&list=PLWjCJDeWfDdeYtU0NMvYvfqqFA1Jsh3NM&index=2)
3. [Advanced SVG: transitions](https://www.youtube.com/watch?v=vwIVdI3WMIc&list=PLWjCJDeWfDdeYtU0NMvYvfqqFA1Jsh3NM&index=3)
4. [Advanced SVG: animations](https://www.youtube.com/watch?v=8s70jpw5B5c&list=PLWjCJDeWfDdeYtU0NMvYvfqqFA1Jsh3NM&index=4)
5. [Advanced SVG: icons](https://www.youtube.com/watch?v=EhNHe-f0LBI&list=PLWjCJDeWfDdeYtU0NMvYvfqqFA1Jsh3NM&index=5)
6. [Advanced SVG: icon symbols](https://www.youtube.com/watch?v=BO13gECyiuE&list=PLWjCJDeWfDdeYtU0NMvYvfqqFA1Jsh3NM&index=6)

## Links

- **[CSS-Tricks: How to Scale SVG](https://css-tricks.com/scale-svg/)**
- **[CSS-Tricks: A Compendium of SVG Information](https://css-tricks.com/mega-list-svg-information/)**
- **[MDN: SVG](https://developer.mozilla.org/en-US/docs/Web/SVG)**
- [The 4 Slice Scaling Technique for SVG](http://w3.eleqtriq.com/2014/02/the-4-slice-scaling-technique-for-svg/)
- [CSS-Tricks: How SVG Fragment Identifiers Work](https://css-tricks.com/svg-fragment-identifiers-work/)
- [Smashing Magazine: A Few Different Ways To Use SVG Sprites In Animation](http://www.smashingmagazine.com/2015/03/17/different-ways-to-use-svg-sprites-in-animation/)
